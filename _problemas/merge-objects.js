const cart = [
  {
    quantity: 1,
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    price: 56.77000045776367,
    priceMask: " 56,77",
    discount: 0,
    priceDigited: "",
    id: "26006020-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28747,
    idERP: "SE0101439-DI0001-P",
    size: "P",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    quantity: 1,
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    price: 56.77000045776367,
    priceMask: " 56,77",
    discount: 0,
    priceDigited: "",
    id: "2600ae40-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28754,
    idERP: "SE0101439-DI0001-P",
    size: "M",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    quantity: 1,
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    price: 56.77000045776367,
    priceMask: " 56,77",
    discount: 0,
    priceDigited: "",
    id: "2600fc60-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28760,
    idERP: "SE0101439-DI0001-P",
    size: "G",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    quantity: 1,
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    price: 56.77000045776367,
    priceMask: " 56,77",
    discount: 0,
    priceDigited: "",
    id: "26017190-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28765,
    idERP: "SE0101439-DI0001-P",
    size: "GG",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    quantity: 1,
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    price: 56.77000045776367,
    priceMask: " 56,77",
    discount: 0,
    priceDigited: "",
    id: "2601bfb0-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28770,
    idERP: "SE0101439-DI0001-P",
    size: "XGG",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  }
];

const newCart = [
  {
    id: "26006020-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28747,
    idERP: "SE0101439-DI0001-P",
    quantity: 5,
    size: "P",
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 283.85000228881836,
    originalPrice: 56.77000045776367,
    priceMask: 283.85000228881836,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    id: "2600ae40-a811-11e9-82e0-5bf9f672a81f",
    idFW: 28754,
    idERP: "SE0101439-DI0001-P",
    quantity: 5,
    size: "M",
    name:
      "POLO PIQUET DUPLO REVELLION COM PEITILHO  INTERNO EM RETILINEA JACQUAR",
    totalValue: 283.85000228881836,
    originalPrice: 56.77000045776367,
    priceMask: 283.85000228881836,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    id: "260234e0-a811-11e9-82e0-5bf9f672a81f",
    idFW: 29012,
    idERP: "SE0101439-AZ0001-P",
    quantity: 1,
    size: "P",
    name: "POLO PIQUET PIMA FLORA COM RETILINEA JACQUARD SURTOM",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    priceMask: 56.77000045776367,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    id: "2602aa10-a811-11e9-82e0-5bf9f672a81f",
    idFW: 29015,
    idERP: "SE0101439-AZ0001-P",
    quantity: 1,
    size: "M",
    name: "POLO PIQUET PIMA FLORA COM RETILINEA JACQUARD SURTOM",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    priceMask: 56.77000045776367,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    id: "2602f830-a811-11e9-82e0-5bf9f672a81f",
    idFW: 29018,
    idERP: "SE0101439-AZ0001-P",
    quantity: 1,
    size: "G",
    name: "POLO PIQUET PIMA FLORA COM RETILINEA JACQUARD SURTOM",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    priceMask: 56.77000045776367,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    id: "26034650-a811-11e9-82e0-5bf9f672a81f",
    idFW: 29022,
    idERP: "SE0101439-AZ0001-P",
    quantity: 1,
    size: "GG",
    name: "POLO PIQUET PIMA FLORA COM RETILINEA JACQUARD SURTOM",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    priceMask: 56.77000045776367,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  },
  {
    id: "2603bb80-a811-11e9-82e0-5bf9f672a81f",
    idFW: 29024,
    idERP: "SE0101439-AZ0001-P",
    quantity: 1,
    size: "XGG",
    name: "POLO PIQUET PIMA FLORA COM RETILINEA JACQUARD SURTOM",
    totalValue: 56.77000045776367,
    originalPrice: 56.77000045776367,
    priceMask: 56.77000045776367,
    price: 56.77000045776367,
    discount: 0,
    priceDigited: "",
    discountDigited: "",
    maximumDiscount: 0,
    image: ""
  }
];

// Updated product already in cart AND added
const items = newCart.map(product => {
  console.log(product.idFW, "product");
  const foundItem = cart.reduce((acc, item) => {
    if (item.idFW === product.idFW) {
      console.log(
        `${item.quantity}`,
        item.idFW,
        product.idFW,
        `${product.quantity}`
      );
      return [...acc, product];
    }
    return [...acc, item];
  }, []);
});

function merge(a, b, prop) {
  var reduced = a.filter(
    aitem => !b.find(bitem => aitem[prop] === bitem[prop])
  );
  return reduced.concat(b);
}
console.log("ES6", merge(cart, newCart, "id"));

// ----
// ES5 using Array.filter and Array.find
function merge(a, b, prop) {
  var reduced = a.filter(function(aitem) {
    return !b.find(function(bitem) {
      return aitem[prop] === bitem[prop];
    });
  });
  return reduced.concat(b);
}
//console.log( "ES5", merge(cart, newCart, "id") );
